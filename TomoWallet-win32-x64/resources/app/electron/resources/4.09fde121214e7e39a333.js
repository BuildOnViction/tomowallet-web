(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"2K2B":function(e,t,n){e.exports=n.p+"2a1a27c54efe879cb84cbaa8bc86134e.png"},Jut1:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("17x9"),u=n.n(a),c=n("G4qV"),i=n("/MKj"),l=n("ANjH"),p=n("Ty5D"),s=n("yDJ3"),f=n.n(s),d=n("I9vy"),y=n.n(d),h=n("afej"),b=n("ezmu"),E=n("/kxI"),O=n("ok1R"),P=n("rhny"),m=n("umxu"),_=n("cZcL"),T=n("TJpk"),v=n("InJ6"),L=n("jrRI"),g=n("3OM0"),A=n("L3zb"),R=n("hfUC"),I=n("JRPe"),j=n("Umz7"),w=n("WlAH");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,C(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("hdPathInput").focus()}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.formValues,r=e.intl.formatMessage,a=e.updateInput;return o.a.createElement(L.a,null,o.a.createElement(g.a,null,r(w.d.IMPORT_WALLET_TAB_LEDGER_INPUT_LABEL)),o.a.createElement(A.a,{id:"hdPathInput",name:"hdPath",value:f()(n,"hdPath",""),placeholder:r(w.d.IMPORT_WALLET_TAB_LEDGER_INPUT_PLACEHOLDER),onChange:function(e){return a("hdPath",e.target.value)},invalid:f()(t,"hdPath",[]).length>0}),o.a.createElement(R.a,null,f()(t,"hdPath",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))})),o.a.createElement(v.k,null,o.a.createElement(I.a,M({},w.d.IMPORT_WALLET_TAB_LEDGER_INPUT_DESCRIPTION,{values:{path1:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/60'/0'")}},"m/44'/60'/0'"),path2:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/60'/0'/0")}},"m/44'/60'/0'/0"),path3:o.a.createElement(v.g,{btnRed:!0,onClick:function(){return a("hdPath","m/44'/889'/0'/0")}},"m/44'/889'/0'/0")}}))))}}])&&W(n.prototype,a),u&&W(n,u),t}();U.propTypes={errors:u.a.objectOf(u.a.array),formValues:u.a.object,intl:u.a.object,updateInput:u.a.func},U.defaultProps={errors:[],formValues:{},intl:{},updateInput:function(){}};var N=Object(j.d)(U),K=n("/pVl"),x=n("7Qib");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,H(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,this.props.setMetaMaskProvider)()}},{key:"componentWillUnmount",value:function(){var e=this.props.removeMetaMaskProvider,t=Object(x.v)();f()(t,"loginType")!==w.b.LOGIN_TYPE.META_MASK&&e()}},{key:"render",value:function(){var e=this.props.intl.formatMessage;return o.a.createElement("div",null,e(w.d.IMPORT_WALLET_TAB_METAMASK_CONTENT_MESSAGE))}}])&&V(n.prototype,a),u&&V(n,u),t}();F.propTypes={intl:u.a.object,removeMetaMaskProvider:u.a.func,setMetaMaskProvider:u.a.func},F.defaultProps={intl:{},removeMetaMaskProvider:function(){},setMetaMaskProvider:function(){}};var z=Object(l.d)(j.d,K.d)(F),J=n("9a8N"),X=n("F66N"),q=n("arvA"),Q=n("Czwy"),Z=n("EzvR"),$=n("vOnD");function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function te(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ul.nav-tabs {\n    border: 0;\n    border-bottom: 1px dashed #444b63;\n    font-size: 16px;\n    .nav-link {\n      background: transparent !important;\n      border: 0;\n      color: #5e677f;\n      margin-right: 50px;\n      padding: 0 0 5px;\n      cursor: pointer;\n      position: relative;\n      &.active {\n        color: #9eaacc;\n        &::before {\n          content: '';\n          background-color: #5692cd;\n          border-radius: 25px;\n          width: 100%;\n          height: 2px;\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          animation: slideRight 0.3s ease-out 1;\n        }\n      }\n    }\n  }\n  .tab-content {\n    .form-group {\n      label[for='privateKey'] {\n        svg {\n          animation: ",";\n        }\n      }\n      label[for='recoveryPhrase'] {\n        svg {\n          animation: ",";\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}var ne=Object($.a)(function(e){e.errors;var t=e.children,n=ee(e,["errors","children"]);return o.a.createElement("div",n,t)})(te(),function(e){var t=e.errors;return f()(t,"privateKey",[].length>0)?"bouncerHigh 0.5s linear 1":"none"},function(e){var t=e.errors;return f()(t,"recoveryPhrase",[].length>0)?"bouncerHigh 0.5s linear 1":"none"}),re=n("XaGS"),oe=n.n(re),ae=n("IP2g"),ue="TOMO_WALLET/IMPORT_WALLET/RESET_STATE",ce="TOMO_WALLET/IMPORT_WALLET/UPDATE_INPUT",ie="TOMO_WALLET/IMPORT_WALLET/UPDATE_TYPE",le={LEDGER:1,META_MASK:2,RP_OR_PK:3,KEYSTORE:4},pe=1,se=2,fe=[{label:Object(j.c)(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_PRIVATE_KEY),value:1},{label:Object(j.c)(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_MNEMONIC),value:2}];function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=he(t).call(this,e))||"object"!==de(o)&&"function"!=typeof o?be(r):o).handleChangePK=n.handleChangePK.bind(be(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("privateKeyInput").focus()}},{key:"componentDidUpdate",value:function(e){!oe()(f()(e,"keyInputType"),f()(this.props,"keyInputType"))&&oe()(f()(this.props,"keyInputType"),pe)&&document.getElementById("privateKeyInput").focus()}},{key:"handleChangePK",value:function(e){(0,this.props.updateInput)("privateKey",e)}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.formValues,r=e.handleSubmit,a=e.intl.formatMessage;return o.a.createElement(L.a,null,o.a.createElement(g.a,{for:"privateKey"},a(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_PRIVATE_KEY_INPUT_PRIVATE_KEY_LABEL),o.a.createElement(ae.a,{icon:"unlock"})),o.a.createElement(A.a,{id:"privateKeyInput",type:"textarea",name:"privateKey",placeholder:a(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_PRIVATE_KEY_INPUT_PRIVATE_KEY_PLACEHOLDER),value:f()(n,"privateKey",""),onChange:Object(x.c)(this.handleChangePK),onKeyDown:Object(x.m)(r),invalid:f()(t,"privateKey",[]).length>0}),o.a.createElement(R.a,null,f()(t,"privateKey",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))})))}}])&&ye(n.prototype,a),u&&ye(n,u),t}();Oe.propTypes={errors:u.a.objectOf(u.a.array),formValues:u.a.object,handleSubmit:u.a.func,intl:u.a.object,updateInput:u.a.func},Oe.defaultProps={errors:{},formValues:{},handleSubmit:function(){},intl:{},updateInput:function(){}};var Pe=Object(j.d)(Oe);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Te(t).call(this,e))||"object"!==me(o)&&"function"!=typeof o?ve(r):o).handleChangeRecoveryPhrase=n.handleChangeRecoveryPhrase.bind(ve(n)),n.handleChangeHDPath=n.handleChangeHDPath.bind(ve(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidUpdate",value:function(e){!oe()(f()(e,"keyInputType"),f()(this.props,"keyInputType"))&&oe()(f()(this.props,"keyInputType"),se)&&document.getElementById("recoveryPhraseInput").focus()}},{key:"handleChangeRecoveryPhrase",value:function(e){(0,this.props.updateInput)("recoveryPhrase",e)}},{key:"handleChangeHDPath",value:function(e){(0,this.props.updateInput)("hdPath",e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.formValues,a=e.handleSubmit,u=e.intl.formatMessage;return o.a.createElement(r.Fragment,null,o.a.createElement(L.a,{className:"mb-2"},o.a.createElement(g.a,{for:"recoveryPhrase"},u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_MNEMONIC_INPUT_MNEMONIC_LABEL),o.a.createElement(ae.a,{icon:"envelope-open-text"})),o.a.createElement(A.a,{id:"recoveryPhraseInput",type:"textarea",name:"recoveryPhrase",placeholder:u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_MNEMONIC_INPUT_MNEMONIC_PLACEHOLDER),value:f()(n,"recoveryPhrase",""),onChange:Object(x.c)(this.handleChangeRecoveryPhrase),onKeyDown:Object(x.m)(a),invalid:f()(t,"recoveryPhrase",[]).length>0}),o.a.createElement(R.a,null,f()(t,"recoveryPhrase",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))}))),o.a.createElement(L.a,null,o.a.createElement(g.a,{for:"hdPath"},u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_MNEMONIC_INPUT_HD_PATH_LABEL)),o.a.createElement(A.a,{id:"hdPathInput",name:"hdPath",placeholder:u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TYPE_MNEMONIC_INPUT_HD_PATH_PLACEHOLDER),value:f()(n,"hdPath",""),onChange:this.handleChangeHDPath,invalid:f()(t,"hdPath",[]).length>0}),o.a.createElement(R.a,null,f()(t,"hdPath",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))}))))}}])&&_e(n.prototype,a),u&&_e(n,u),t}();ge.propTypes={errors:u.a.objectOf(u.a.array),formValues:u.a.object,handleSubmit:u.a.func,intl:u.a.object,updateInput:u.a.func},ge.defaultProps={errors:{},formValues:{},handleSubmit:function(){},intl:{},updateInput:function(){}};var Ae=Object(j.d)(ge),Re=function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/LOAD_KEYSTORE_FILE",data:e}},Ie=function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/TOGGLE_PASSWORD_POPUP",bool:e}},je=function(e,t){return{type:ce,name:e,value:t}},we=n("Mpt7"),Se=function(e){return f()(e,["importWallet"],Object(we.a)({}))},Me=Object(x.f)(Se,function(e){return e.toJS().addressPopup}),We=Object(x.f)(Se,function(e){return e.toJS().importWallet}),De=Object(x.f)(Se,function(e){return e.toJS().passwordPopup});function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ue(t).call(this,e))||"object"!==Ce(o)&&"function"!=typeof o?Ne(r):o).handleInputChange=n.handleInputChange.bind(Ne(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("recoveryPhraseInput").focus()}},{key:"handleInputChange",value:function(e){(0,this.props.onUpdateInput)("recoveryPhrase",e)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.importWallet,r=e.onUpdateKeyInputType,a=e.onUpdateInput,u=f()(n,"keyInputType",pe);return o.a.createElement(ne,{errors:f()(n,"errors",{})},o.a.createElement(J.a,{tabs:!0,className:"mt-2 mb-4"},fe.map(function(e,t){return o.a.createElement(X.a,{key:"key_input_type_".concat(t+1)},o.a.createElement(q.a,{active:e.value===u,onClick:function(){return r(e.value)}},e.label))})),o.a.createElement(Q.a,{activeTab:u},o.a.createElement(Z.a,{tabId:pe},o.a.createElement(Pe,{errors:f()(n,"errors",{}),formValues:f()(n,"input",{}),keyInputType:u,handleSubmit:t,updateInput:a})),o.a.createElement(Z.a,{tabId:se},o.a.createElement(Ae,{errors:f()(n,"errors",[]),formValues:f()(n,"input",{}),keyInputType:u,handleSubmit:t,updateInput:a}))))}}])&&ke(n.prototype,a),u&&ke(n,u),t}();xe.propTypes={handleSubmit:u.a.func,importWallet:u.a.object,onUpdateKeyInputType:u.a.func,onUpdateInput:u.a.func,web3:u.a.object},xe.defaultProps={handleSubmit:function(){},importWallet:{},onUpdateInput:function(){},web3:{}};var Be=Object(i.c)(function(){return Object(c.b)({importWallet:We})},function(e){return{onUpdateKeyInputType:function(t){return e({type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_KEY_INPUT_TYPE",newType:t})},onUpdateInput:function(t,n){return e(je(t,n))}}}),Ve=Object(l.d)(Be,K.d)(xe);function Ye(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function He(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .upload-area {\n    width: 250px;\n    height: 250px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 10px;\n    border: 2px dashed #3f3e4e;\n    color: ",";\n    ","\n    &:hover {\n      filter: brightness(120%);\n    }\n    svg {\n      width: 50px;\n      height: 50px;\n      margin-bottom: 15px;\n      pointer-events: none;\n    }\n    .file-name {\n      width: 100%;\n      pointer-events: none;\n    }\n  }\n  .upload-text {\n    width: 250px;\n    pointer-events: none;\n  }\n  input[type='file'] {\n    display: none;\n  }\n"]);return He=function(){return e},e}var Ge=Object($.a)(function(e){e.active;var t=e.children,n=Ye(e,["active","children"]);return o.a.createElement("div",n,t)})(He(),function(e){return e.uploaded?"#9aa3b3":"inherit"},function(e){return e.active&&"filter: brightness(120%);"});function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Je(t).call(this,e))||"object"!==Fe(o)&&"function"!=typeof o?Xe(r):o).state={active:!1,fileName:""},n.handleChangeFile=n.handleChangeFile.bind(Xe(n)),n.handleDragEnter=n.handleDragEnter.bind(Xe(n)),n.handleDragLeave=n.handleDragLeave.bind(Xe(n)),n.handleDragOver=n.handleDragOver.bind(Xe(n)),n.handleDrop=n.handleDrop.bind(Xe(n)),n.handleResetInput=n.handleResetInput.bind(Xe(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleChangeFile",value:function(e){var t=this,n=this.props,r=n.onError,o=n.onLoaded,a=f()(e,"dataTransfer.files.0")||f()(e,"target.files.0");if(a){var u=new FileReader;u.readAsText(a),u.onloadend=function(){try{o(u.result),t.setState({active:!1,fileName:a.name})}catch(e){r(e.message)}}}}},{key:"handleDragEnter",value:function(){this.setState({active:!0})}},{key:"handleDragLeave",value:function(){this.setState({active:!1})}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDrop",value:function(e){e.preventDefault(),this.setState({active:!1}),this.handleChangeFile(e)}},{key:"handleResetInput",value:function(e){e.target.value=""}},{key:"render",value:function(){var e=this.state,t=e.active,n=e.fileName;return o.a.createElement(Ge,{active:t},o.a.createElement("label",{className:"upload-area align-center text-center",onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop},n?o.a.createElement(r.Fragment,null,o.a.createElement(ae.a,{icon:["far","file-alt"]}),o.a.createElement("div",{className:"file-name"},n)):o.a.createElement(ae.a,{icon:"upload"}),o.a.createElement("input",{type:"file",name:"file",onClick:this.handleResetInput,onChange:this.handleChangeFile})),o.a.createElement("div",{className:"upload-text"},o.a.createElement("span",null,Object(j.c)(w.d.INPUT_FILE_UPLOAD_PLACEHOLDER))))}}])&&ze(n.prototype,a),u&&ze(n,u),t}();Qe.propTypes={onError:u.a.func,onLoaded:u.a.func},Qe.defaultProps={onError:function(){},onLoaded:function(){}};var Ze=Qe,$e=n("mHXU");function et(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""]);return et=function(){return e},e}var tt=Object($.a)($e.a)(et()),nt=n("q7Gj"),rt=n("re1l"),ot=n("Z+s4");function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ct(t).call(this,e))||"object"!==at(o)&&"function"!=typeof o?it(r):o).handleChangePassword=n.handleChangePassword.bind(it(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){setTimeout(function(){document.getElementById("passwordInput").focus()},100)}},{key:"handleChangePassword",value:function(e){(0,this.props.updateInput)("password",e)}},{key:"render",value:function(){var e=this.props,t=e.decryptData,n=e.errors,r=e.intl.formatMessage,a=e.isRevealed,u=e.revealText,c=e.value;return o.a.createElement(L.a,null,o.a.createElement(nt.a,null,o.a.createElement(A.a,{id:"passwordInput",type:a?"text":"password",name:"password",value:c,placeholder:r(w.d.IMPORT_WALLET_POPUP_PASSWORD_INPUT_PLACEHOLDER),onChange:Object(x.c)(this.handleChangePassword),onKeyDown:Object(x.m)(t),invalid:!!f()(n,"password")}),o.a.createElement(rt.a,{addonType:"append"},o.a.createElement(ot.a,{role:"presentation",onClick:function(){return u(!a)}},o.a.createElement(ae.a,{icon:["far",a?"eye-slash":"eye"]}))),o.a.createElement(R.a,null,f()(n,"password",""))))}}])&&ut(n.prototype,a),u&&ut(n,u),t}();pt.propTypes={errors:u.a.object,intl:u.a.object,isRevealed:u.a.bool,revealText:u.a.func,updateInput:u.a.func,value:u.a.string},pt.defaultProps={errors:{},intl:{},isRevealed:!1,revealText:function(){},updateInput:function(){},value:""};var st=Object(j.d)(pt);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yt(t).call(this,e))||"object"!==ft(o)&&"function"!=typeof o?ht(r):o).handleClosePasswordPopup=n.handleClosePasswordPopup.bind(ht(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleClosePasswordPopup",value:function(){var e=this.props,t=e.onLoadKeystoreFile,n=e.onTogglePasswordPopup;t({}),n(!1)}},{key:"render",value:function(){var e=this.props,t=e.decryptData,n=e.intl.formatMessage,r=e.onRevealPasswordInput,a=e.onUpdatePasswordPopupInput,u=e.popupData;return o.a.createElement(tt,{button:{primary:{action:t,btnYellow:!0,label:n(w.d.COMMON_BUTTON_CONFIRM)},secondary:{action:this.handleClosePasswordPopup,label:n(w.d.COMMON_BUTTON_BACK)}},Content:st,getContentProps:{decryptData:t,errors:f()(u,"errors",{}),isRevealed:f()(u,"isRevealed",!1),revealText:r,updateInput:a,value:f()(u,"input.password","")},isOpen:f()(u,"isOpen",!1),title:n(w.d.IMPORT_WALLET_POPUP_PASSWORD_TITLE)})}}])&&dt(n.prototype,a),u&&dt(n,u),t}();Et.propTypes={decryptData:u.a.func,intl:u.a.object,onRevealPasswordInput:u.a.func,onTogglePasswordPopup:u.a.func,onUpdatePasswordPopupInput:u.a.func,popupData:u.a.object},Et.defaultProps={decryptData:function(){},intl:{},onRevealPasswordInput:function(){},onTogglePasswordPopup:function(){},onUpdatePasswordPopupInput:function(){},popupData:{}};var Ot=Object(i.c)(function(){return Object(c.b)({popupData:De})},function(e){return{onLoadKeystoreFile:function(t){return e(Re(t))},onRevealPasswordInput:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/REVEAL_PASSWORD_INPUT",bool:e}}(t))},onTogglePasswordPopup:function(t){return e(Ie(t))},onUpdatePasswordPopupInput:function(t,n){return e(function(e,t){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_INPUT",name:e,value:t}}(t,n))}}}),Pt=Object(l.d)(Ot,j.d)(Et);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Tt(t).call(this,e))||"object"!==mt(o)&&"function"!=typeof o?vt(r):o).handleDecryptFileData=n.handleDecryptFileData.bind(vt(n)),n.handleLoadKeystore=n.handleLoadKeystore.bind(vt(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"handleDecryptFileData",value:function(){var e=this.props,t=e.accessWallet,n=e.intl.formatMessage,r=e.onTogglePasswordPopup,o=e.onUpdateInput,a=e.onUpdatePasswordPopupErrors,u=e.passwordPopup,c=f()(u,"input.password",""),i=f()(u,"fileData",{});try{var l=Object(x.j)(i,c);Object(x.z)()&&Object(x.V)(i).then(function(e){var t=e.error;t&&a({password:t.message})}),new Promise(function(e){return e(o("privateKey",f()(l,"privateKey")))}).then(function(){t("keystore")}).then(function(){r(!1)})}catch(e){a({password:n(w.d.IMPORT_WALLET_POPUP_PASSWORD_INPUT_INVALID_PASSWORD)})}}},{key:"handleLoadKeystore",value:function(e){var t=this.props,n=t.onLoadKeystoreFile,r=t.onTogglePasswordPopup;n(e),r(!0)}},{key:"render",value:function(){return o.a.createElement("div",{className:"d-flex flex-row justify-content-center text-center"},o.a.createElement(Ze,{onLoaded:this.handleLoadKeystore}),o.a.createElement(Pt,{decryptData:this.handleDecryptFileData}))}}])&&_t(n.prototype,a),u&&_t(n,u),t}();gt.propTypes={accessWallet:u.a.func,intl:u.a.object,onLoadKeystoreFile:u.a.func,onUpdateInput:u.a.func,onUpdatePasswordPopupErrors:u.a.func,passwordPopup:u.a.object,web3:u.a.object},gt.defaultProps={accessWallet:function(){},intl:{},onLoadKeystoreFile:function(){},onUpdateInput:function(){},onUpdatePasswordPopupErrors:function(){},passwordPopup:{},web3:{}};var At=Object(i.c)(function(){return Object(c.b)({passwordPopup:De})},function(e){return{onLoadKeystoreFile:function(t){return e(Re(t))},onTogglePasswordPopup:function(t){return e(Ie(t))},onUpdateInput:function(t,n){return e(je(t,n))},onUpdatePasswordPopupErrors:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_ERRORS",errors:e}}(t))}}}),Rt=Object(l.d)(At,j.d,K.d)(gt);function It(){var e=wt(["\n  position: absolute;\n  margin-top: 0;\n  margin-left: 0;\n  left: 10px;\n  top: 4px;\n"]);return It=function(){return e},e}function jt(){var e=wt([""]);return jt=function(){return e},e}function wt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var St=Object($.a)($e.a)(jt()),Mt=Object($.a)(A.a)(It());function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(this,kt(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.updateChosenAddress;return o.a.createElement(v.e,null,f()(t,"wallets",[]).map(function(e,r){return o.a.createElement(O.a,{key:"address_row_".concat(r+1),className:"py-3"},o.a.createElement(P.a,{xs:8,className:"text-truncate"},o.a.createElement("label",{className:"pl-5 m-0 position-relative",title:e.address},o.a.createElement(Mt,{type:"radio",name:"wallet",checked:f()(t,"chosenIndex")===r,onChange:function(){return n(r)}}),o.a.createElement(v.s,null,e.address))),o.a.createElement(P.a,{xs:4,className:"text-right"},"".concat(e.balance.toLocaleString(void 0,{minimumFractionDigits:3})," TOMO")))}))}}])&&Dt(n.prototype,a),u&&Dt(n,u),t}();Nt.propTypes={data:u.a.object,updateChosenAddress:u.a.func},Nt.defaultProps={data:{},updateChosenAddress:function(){}};var Kt=Nt;function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vt(this,Yt(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.accessByLedger,n=e.data,r=e.intl.formatMessage,a=e.togglePopup,u=e.updateChosenAddress;return o.a.createElement(St,{Content:Kt,button:{secondary:{label:r(w.d.COMMON_BUTTON_BACK),action:function(){return a(!1)}},primary:{btnYellow:!0,label:r(w.d.COMMON_BUTTON_UNLOCK),action:t}},getContentProps:{data:n,updateChosenAddress:u},getPopupProps:{size:"lg"},isOpen:f()(n,"isOpen",!1),title:r(w.d.IMPORT_WALLET_POPUP_ADDRESS_TITLE)})}}])&&Bt(n.prototype,a),u&&Bt(n,u),t}();Gt.propTypes={accessByLedger:u.a.func,data:u.a.object,intl:u.a.object,togglePopup:u.a.func,updateChosenAddress:u.a.func},Gt.defaultProps={accessByLedger:function(){},data:{},intl:{},togglePopup:function(){},updateChosenAddress:function(){}};var Ft=Object(j.d)(Gt);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=Object(we.a)({addressPopup:{chosenIndex:"",isOpen:!1,wallets:[]},importWallet:{errors:{},input:{},type:le.LEDGER,keyInputType:pe},passwordPopup:{errors:{},fileData:null,input:{},isOpen:!1,isRevealed:!1}}),qt=n("SiMB"),Qt=n("V6JL"),Zt=n.n(Qt),$t=n("QUqL"),en=n.n($t),tn=n("2K2B"),nn=n.n(tn),rn=n("HlUK");function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(n,!0).forEach(function(t){cn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pn(t).call(this,e))||"object"!==on(o)&&"function"!=typeof o?sn(r):o).LEDGER_WALLET_LIMIT=5,n.handleAccessByLedger=n.handleAccessByLedger.bind(sn(n)),n.handleAccessByRecoveryPhrase=n.handleAccessByRecoveryPhrase.bind(sn(n)),n.handleChangeType=n.handleChangeType.bind(sn(n)),n.handleRedirect=n.handleRedirect.bind(sn(n)),n.handleGetLedgerAddresses=n.handleGetLedgerAddresses.bind(sn(n)),n.handleUpdateError=n.handleUpdateError.bind(sn(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentWillUnmount",value:function(){(0,this.props.onResetState)()}},{key:"handleAccessByLedger",value:function(){var e=this,t=this.props,n=t.addressPopup,r=t.importWallet,o=t.onStoreWallet,a=f()(n,["wallets",f()(n,"chosenIndex")]),u=f()(w.f,[Object(x.s)()],{});a&&Object(x.q)(a.address,u).then(function(t){var u={address:a.address,balance:t};o(u),Object(x.J)(),Object(x.Q)({loginType:w.b.LOGIN_TYPE.LEDGER,address:a.address,hdPath:"".concat(f()(r,"input.hdPath"),"/").concat(f()(n,"chosenIndex"))}),Object(x.z)()&&Object(x.G)().then(function(t){var n=t.error;return n&&e.handleUpdateError(n.message)})})}},{key:"handleAccessByRecoveryPhrase",value:function(e){var t=this,n=this.props,r=n.history,o=n.importWallet,a=n.intl.formatMessage,u=n.onStoreWallet,c=n.rpcServer,i=n.toggleLoading,l=n.updateWeb3,p=f()(o,"input",{}),s=f()(o,"keyInputType",pe),d={};if(s===pe?d=un({},Object(x.B)(p.privateKey)?{}:{privateKey:[a(w.d.IMPORT_WALLET_ERROR_INVALID_PRIVATE_KEY)]}):s===se&&(d=un({},Object(x.C)(p.recoveryPhrase)?{}:{recoveryPhrase:[a(w.d.IMPORT_WALLET_ERROR_INVALID_RECOVERY_PHRASE)]},{},this.handleValidateHDPath())),y()(d))try{i(!0);var h=p.recoveryPhrase||p.privateKey,b=f()(o,"input.hdPath",""),E=b?un({},c,{hdPath:b}):c,O=Object(x.h)(h,E);l(O),Object(x.u)(O).then(function(e){u(e),Object(x.Q)(un({loginType:w.b.LOGIN_TYPE.PRIVATE_KEY,recoveryPhrase:h,address:e.address},b?{hdPath:b}:{}))}).then(function(){if(Object(x.z)()&&"keystore"!==e){var n=p.recoveryPhrase?Object(x.E)(p.recoveryPhrase,c):p.privateKey;Object(x.G)().then(function(e){var n=e.error;return n&&t.handleUpdateError(n.message)}),Object(rn.j)(JSON.stringify(Object(x.o)(n,"recoveryPhrase"))).then(function(e){var n=e.error;return n&&t.handleUpdateError(n.message)})}i(!1),r.push(w.e.MY_WALLET)})}catch(e){this.handleUpdateError(e.message)}else this.handleUpdateError(d)}},{key:"handleChangeType",value:function(e){(0,this.props.onUpdateImportType)(e)}},{key:"handleRedirect",value:function(e){this.props.history.push(e)}},{key:"handleGetLedgerAddresses",value:function(){var e=this,t=this.props,n=t.importWallet,r=t.onLoadWalletAddresses,o=t.onUpdateErrors,a=t.toggleLoading,u=t.web3,c=f()(n,"input.hdPath",""),i=this.handleValidateHDPath();y()(i)?(a(!0),o([]),Object(x.K)(u,c).then(function(e){a(!1),r(e)}).catch(function(t){return e.handleUpdateError(t.message)})):o(Object.values(i))}},{key:"handleValidateHDPath",value:function(){var e=this.props,t=e.importWallet,n=e.intl.formatMessage;return un({},(0,x.T.isRequired)({name:"hdPath",value:f()(t,"input.hdPath")},n(w.d.IMPORT_WALLET_ERROR_INVALID_HD_PATH)),{},Object(x.A)(f()(t,"input.hdPath"))?{}:{hdPath:[n(w.d.IMPORT_WALLET_ERROR_INVALID_HD_PATH)]})}},{key:"handleUpdateError",value:function(e,t){var n=this.props,r=n.importWallet,o=n.onUpdateErrors,a=n.toggleLoading,u=f()(r,"keyInputType",pe);if(t||a(!1),"string"==typeof e){var c=u===pe?"privateKey":u===se&&"recoveryPhrase";c&&o(cn({},c,[e]))}else"object"===on(e)&&o(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.addressPopup,a=t.importWallet,u=t.intl.formatMessage,c=t.onToggleAddressPopup,i=t.onUpdateChosenWallet,l=t.onUpdateInput;return o.a.createElement(r.Fragment,null,o.a.createElement(T.Helmet,null,o.a.createElement("title",null,u(w.d.IMPORT_WALLET_TITLE))),o.a.createElement(v.j,{size:"large"},o.a.createElement(v.c,null,o.a.createElement(h.a,null,o.a.createElement(v.m,null,u(w.d.IMPORT_WALLET_HEADER_TITLE)),o.a.createElement(b.a,null,"".concat(u(w.d.IMPORT_WALLET_ALTERNATIVE_TEXT)," "),o.a.createElement(v.s,{role:"presentation",onClick:function(){return e.handleRedirect(w.e.CREATE_WALLET)}},u(w.d.IMPORT_WALLET_ALTERNATIVE_LINK)))),o.a.createElement(E.a,null,o.a.createElement(O.a,{noGutters:!0},o.a.createElement(P.a,{className:"pr-3"},o.a.createElement(v.p,{isActive:f()(a,"type")===le.LEDGER,onClick:function(){return e.handleChangeType(le.LEDGER)}},o.a.createElement(m.a,{src:Zt.a,alt:u(w.d.IMPORT_WALLET_TAB_LEDGER_IMAGE_ALT)}),o.a.createElement(b.a,{className:"mt-3"},u(w.d.IMPORT_WALLET_TAB_LEDGER_TEXT)))),!Object(x.z)()&&o.a.createElement(P.a,{className:"px-3"},o.a.createElement(v.p,{isActive:f()(a,"type")===le.META_MASK,onClick:function(){return e.handleChangeType(le.META_MASK)}},o.a.createElement(m.a,{src:en.a,alt:u(w.d.IMPORT_WALLET_TAB_METAMASK_IMAGE_ALT)}),o.a.createElement(b.a,{className:"mt-3"},u(w.d.IMPORT_WALLET_TAB_METAMASK_TEXT)))),o.a.createElement(P.a,{className:"px-3"},o.a.createElement(v.p,{isActive:f()(a,"type")===le.RP_OR_PK,onClick:function(){return e.handleChangeType(le.RP_OR_PK)}},o.a.createElement(m.a,{src:nn.a,alt:u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TEXT)}),o.a.createElement(b.a,{className:"mt-3"},u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_TEXT)),o.a.createElement(b.a,{className:"text-end small text-danger"},u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_NOT_RECOMMENDED_TEXT)))),o.a.createElement(P.a,{className:"pl-3"},o.a.createElement(v.p,{isActive:f()(a,"type")===le.KEYSTORE,onClick:function(){return e.handleChangeType(le.KEYSTORE)}},o.a.createElement(m.a,{src:nn.a,alt:u(w.d.IMPORT_WALLET_TAB_KEYSTORE_IMAGE_ALT)}),o.a.createElement(b.a,{className:"mt-3"},u(w.d.IMPORT_WALLET_TAB_KEYSTORE_TEXT)),o.a.createElement(b.a,{className:"text-end small text-danger"},u(w.d.IMPORT_WALLET_TAB_RECOVERY_PHRASE_NOT_RECOMMENDED_TEXT))))),o.a.createElement(O.a,{noGutters:!0,className:"mt-5"},o.a.createElement(P.a,null,f()(a,"type")===le.LEDGER&&o.a.createElement(N,{errors:f()(a,"errors",[]),formValues:f()(a,"input",{}),updateInput:l}),f()(a,"type")===le.META_MASK&&o.a.createElement(z,null),f()(a,"type")===le.RP_OR_PK&&o.a.createElement(Ve,{handleSubmit:this.handleAccessByRecoveryPhrase}),f()(a,"type")===le.KEYSTORE&&o.a.createElement(Rt,{accessWallet:this.handleAccessByRecoveryPhrase})))),![le.META_MASK,le.KEYSTORE].includes(f()(a,"type"))&&o.a.createElement(_.a,null,o.a.createElement(O.a,null,o.a.createElement(P.a,{size:6},o.a.createElement(v.h,{onClick:function(){return e.handleRedirect(w.e.LOGIN)}},u(w.d.COMMON_BUTTON_BACK))),o.a.createElement(P.a,{size:6},o.a.createElement(v.h,{btnYellow:!0,onClick:f()(a,"type")===le.RP_OR_PK?this.handleAccessByRecoveryPhrase:this.handleGetLedgerAddresses},u(w.d.COMMON_BUTTON_IMPORT)))))),o.a.createElement(Ft,{accessByLedger:this.handleAccessByLedger,data:n,togglePopup:c,updateChosenAddress:i})))}}])&&ln(n.prototype,a),u&&ln(n,u),t}();dn.propTypes={addressPopup:u.a.object,history:u.a.object,importWallet:u.a.object,intl:u.a.object,onStoreWallet:u.a.func,onToggleAddressPopup:u.a.func,onUpdateChosenWallet:u.a.func,onUpdateErrors:u.a.func,onUpdateImportType:u.a.func,onUpdateInput:u.a.func,toggleLoading:u.a.func},dn.defaultProps={addressPopup:{},history:{},importWallet:{},intl:{},onStoreWallet:function(){},onToggleAddressPopup:function(){},onUpdateChosenWallet:function(){},onUpdateErrors:function(){},onUpdateImportType:function(){},onUpdateInput:function(){},toggleLoading:function(){}};var yn=Object(i.c)(function(){return Object(c.b)({addressPopup:Me,importWallet:We})},function(e){return{onLoadWalletAddresses:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/LOAD_WALLET_ADDRESSES",data:e}}(t))},onResetState:function(){return e({type:ue})},onStoreWallet:function(t){return e(Object(qt.d)(t))},onToggleAddressPopup:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/TOGGLE_ADDRESS_POPUP",bool:e}}(t))},onUpdateChosenWallet:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_CHOSEN_WALLET",index:e}}(t))},onUpdateErrors:function(t){return e(function(e){return{type:"TOMO_WALLET/IMPORT_WALLET/UPDATE_ERRORS",errors:e}}(t))},onUpdateImportType:function(t){return e({type:ie,importType:t})},onUpdateInput:function(t,n){return e(je(t,n))}}}),hn=Object(x.x)({key:"importWallet",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOMO_WALLET/IMPORT_WALLET/LOAD_KEYSTORE_FILE":return e.setIn(["passwordPopup","fileData"],t.data);case"TOMO_WALLET/IMPORT_WALLET/LOAD_WALLET_ADDRESSES":return e.setIn(["addressPopup","wallets"],t.data).setIn(["addressPopup","isOpen"],!0);case ue:return Xt;case"TOMO_WALLET/IMPORT_WALLET/REVEAL_PASSWORD_INPUT":return e.setIn(["passwordPopup","isRevealed"],t.bool);case"TOMO_WALLET/IMPORT_WALLET/TOGGLE_ADDRESS_POPUP":return e.setIn(["addressPopup","isOpen"],t.bool).setIn(["addressPopup","chosenIndex"],"");case"TOMO_WALLET/IMPORT_WALLET/TOGGLE_PASSWORD_POPUP":var n=e.setIn(["passwordPopup","isOpen"],t.bool);return t.bool?n.setIn(["passwordPopup","input"],{}).setIn(["passwordPopup","errors"],{}):n;case"TOMO_WALLET/IMPORT_WALLET/UPDATE_CHOSEN_WALLET":return e.setIn(["addressPopup","chosenIndex"],t.index);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_ERRORS":return e.setIn(["importWallet","errors"],t.errors);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_KEY_INPUT_TYPE":var r=t.newType===se?{hdPath:"m/44'/889'/0'/0/"}:{};return e.setIn(["importWallet","keyInputType"],t.newType).setIn(["importWallet","input"],r).setIn(["importWallet","errors"],{});case ce:return e.setIn(["importWallet","input",t.name],t.value).setIn(["importWallet","errors"],{});case"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_ERRORS":return e.setIn(["passwordPopup","errors"],t.errors);case"TOMO_WALLET/IMPORT_WALLET/UPDATE_PASSWORD_POPUP_INPUT":return e.updateIn(["passwordPopup","input"],function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach(function(t){Jt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,Jt({},t.name,t.value))}).setIn(["passwordPopup","errors"],{});case ie:return e.setIn(["importWallet","type"],t.importType).setIn(["importWallet","keyInputType"],pe).setIn(["importWallet","input"],{}).setIn(["importWallet","errors"],{});default:return e}}});t.default=Object(l.d)(yn,j.d,x.U,hn,p.f,K.d)(dn)},QUqL:function(e,t,n){e.exports=n.p+"6b12a531b9131f624efac71b22ccca12.png"},V6JL:function(e,t,n){e.exports=n.p+"ac668672164ad21d30034c7c34c3665f.png"}}]);