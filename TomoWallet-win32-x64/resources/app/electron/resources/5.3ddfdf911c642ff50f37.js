(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{R9Jo:function(e,t,n){e.exports=n.p+"bb39db5adfa46cefbd5559e75f71ea81.png"},W51z:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("17x9"),c=n.n(a),u=n("ANjH"),s=n("/MKj"),i=n("Ty5D"),l=n("G4qV"),p=n("yDJ3"),d=n.n(p),f=n("TJpk"),O=n("ok1R"),E=n("rhny"),b=n("umxu"),m=n("InJ6"),y=n("Umz7"),h=n("WlAH"),_=n("R9Jo"),w=n.n(_);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,g(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.redirectTo;return o.a.createElement(O.a,{className:"align-items-center"},o.a.createElement(E.a,{xs:12,md:6,lg:7},o.a.createElement(m.l,null,t(h.d.WELCOME_TITLE)),o.a.createElement("p",{className:"mb-5"},t(h.d.WELCOME_DESCRIPTION)),o.a.createElement(m.b,{className:"mt-3"},o.a.createElement("div",null,o.a.createElement(m.a,{btnBlue:!0,onClick:function(){return n(h.e.IMPORT_WALLET)}},t(h.d.WELCOME_BUTTON_IMPORT_WALLET))),o.a.createElement("div",{className:"m-3"},t(h.d.WELCOME_TEXT_BETWEEN_BUTTONS)),o.a.createElement("div",null,o.a.createElement(m.a,{onClick:function(){return n(h.e.CREATE_WALLET)}},t(h.d.WELCOME_BUTTON_CREATE_NEW_WALLET))))),o.a.createElement(E.a,{xs:12,md:6,lg:5,className:"d-none d-md-block"},o.a.createElement(b.a,{src:w.a,alt:t(h.d.WELCOME_IMAGE_ALT)})))}}])&&P(n.prototype,a),c&&P(n,c),t}();R.propTypes={intl:c.a.object,redirectTo:c.a.func},R.defaultProps={intl:{},redirectTo:function(){}};var v=Object(y.d)(R),W=n("BLzl"),j=n("afej"),A=n("ezmu"),M=n("jrRI"),I=n("3OM0"),C=n("L3zb"),D=n("hfUC"),F=n("0E8A"),k=n("cZcL"),N=n("vOnD"),U=n("/kxI");function V(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  padding-top: 45px !important;\n  padding-bottom: 45 !important;\n"]);return V=function(){return e},e}var B=Object(N.a)(U.a)(V()),x=n("7Qib");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=G(this,z(t).call(this,e))).state={foundInput:!1},n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("passwordInput").focus()}},{key:"componentDidUpdate",value:function(){!this.state.foundInput&&document.body.contains(document.getElementById("passwordInput"))&&(document.getElementById("passwordInput").focus(),this.setState({foundInput:!0}))}},{key:"render",value:function(){var e=this.props,t=e.address,n=e.changePasswordInput,r=e.errors,a=e.formValues,c=e.intl.formatMessage,u=e.redirectToFreshLogin,s=e.validatePassword;return o.a.createElement(m.i,null,o.a.createElement(W.a,null,o.a.createElement(j.a,null,o.a.createElement(m.m,null,c(h.d.WELCOME_FORM_PASSWORD_TITLE)),o.a.createElement(m.n,null,c(h.d.WELCOME_FORM_PASSWORD_ADDRESS_VIEW),o.a.createElement(m.s,null,"0x".concat(t))),o.a.createElement(A.a,null,c(h.d.WELCOME_FORM_PASSWORD_DESCRIPTION))),o.a.createElement(B,null,o.a.createElement(M.a,null,o.a.createElement(I.a,{for:"passwordInput"},c(h.d.WELCOME_FORM_PASSWORD_INPUT_PASSWORD_LABEL)),o.a.createElement(C.a,{id:"passwordInput",type:"password",name:"password",value:a.password,placeholder:c(h.d.WELCOME_FORM_PASSWORD_INPUT_PASSWORD_PLACEHOLDER),onChange:Object(x.c)(n),onKeyDown:Object(x.m)(s),invalid:d()(r,"password",[]).length>0}),o.a.createElement(D.a,null,d()(r,"password",[]).map(function(e,t){return o.a.createElement("div",{key:"error_".concat(t+1)},"* ".concat(e))})),o.a.createElement(F.a,null,o.a.createElement(m.g,{btnBlue:!0,onClick:u,className:"font-weight-bold"},c(h.d.WELCOME_FORM_PASSWORD_DESCRIPTION_ALTERNATIVE_LOGIN))))),o.a.createElement(k.a,null,o.a.createElement(O.a,null,o.a.createElement(E.a,null,o.a.createElement(m.h,{btnYellow:!0,onClick:s},c(h.d.WELCOME_FORM_PASSWORD_BUTTON_LOGIN)))))))}}])&&K(n.prototype,a),c&&K(n,c),t}();Y.propTypes={address:c.a.string,changePasswordInput:c.a.func,errors:c.a.object,formValues:c.a.object,intl:c.a.object,redirectToFreshLogin:c.a.func,validatePassword:c.a.func},Y.defaultProps={address:"",changePasswordInput:function(){},errors:{},formValues:{},intl:{},redirectToFreshLogin:function(){},validatePassword:function(){}};var H=Object(y.d)(Y),q=n("Mpt7"),X=Object(x.f)(function(e){return d()(e,["welcome"],Object(q.a)({}))},function(e){return e.toJS().passwordForm});function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=Object(q.a)({passwordForm:{data:{},errors:{},input:{},isOpen:null}}),te=n("/pVl"),ne=n("SiMB"),re=n("HlUK");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ce(t).call(this,e))||"object"!==oe(o)&&"function"!=typeof o?ue(r):o).handleChangeLoginForm=n.handleChangeLoginForm.bind(ue(n)),n.handleChangePasswordInput=n.handleChangePasswordInput.bind(ue(n)),n.handleQuickAccess=n.handleQuickAccess.bind(ue(n)),n.handleRedirect=n.handleRedirect.bind(ue(n)),n.handleValidatePassword=n.handleValidatePassword.bind(ue(n)),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onLoadKeystoreData,r=t.onTogglePasswordForm;Object(x.z)()?Object(re.c)().then(function(t){t.error?Object(x.l)().then(function(e){e.error?r(!1):Object(x.F)().then(function(e){var t=e.error,o=e.data;t?r(!1):(n(JSON.parse(o)),r(!0))})}):Object(re.f)().then(function(t){var n=t.error,o=t.data;n?r(!1):e.handleQuickAccess(Object(x.j)(JSON.parse(o),"recoveryPhrase"))})}):r(!1)}},{key:"componentWillUnmount",value:function(){(0,this.props.onResetState)()}},{key:"handleChangeLoginForm",value:function(){(0,this.props.onTogglePasswordForm)(!1)}},{key:"handleChangePasswordInput",value:function(e){(0,this.props.onUpdatePasswordInput)("password",e)}},{key:"handleQuickAccess",value:function(e){var t=this,n=this.props,r=n.intl.formatMessage,o=n.onStoreWallet,a=n.onUpdatePasswordErrors,c=n.rpcServer,u=n.toggleLoading,s=n.updateWeb3,i=d()(e,"privateKey","");if(u(!0),Object(x.B)(i))try{var l=Object(x.h)(i,c);s(l),Object(x.u)(l).then(function(e){o(e),Object(x.Q)({loginType:h.b.LOGIN_TYPE.PRIVATE_KEY,recoveryPhrase:i,address:e.address})}).then(function(){u(!1),t.handleRedirect(h.e.MY_WALLET)})}catch(e){u(!1),a({password:[r(h.d.WELCOME_FORM_PASSWORD_ERROR_RETRIEVE_WALLET_FAILED)]})}else u(!1),a({password:[r(h.d.WELCOME_FORM_PASSWORD_ERROR_INVALID_PRIVATE_KEY)]})}},{key:"handleRedirect",value:function(e){this.props.history.push(e)}},{key:"handleValidatePassword",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.onUpdatePasswordErrors,r=e.passwordForm,o=d()(r,"input.password",""),a=d()(r,"data",{});try{var c=Object(x.j)(a,o);this.handleQuickAccess(c)}catch(e){n({password:[t(h.d.WELCOME_FORM_PASSWORD_ERROR_INVALID_PASSWORD)]})}}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.passwordForm,a=d()(n,"isOpen");return o.a.createElement(r.Fragment,null,o.a.createElement(f.Helmet,null,o.a.createElement("title",null,t(h.d.WELCOME_TITLE))),a&&o.a.createElement(H,{address:d()(n,"data.address",""),changePasswordInput:this.handleChangePasswordInput,errors:d()(n,"errors",{}),formValues:d()(n,"input",{}),redirectToFreshLogin:this.handleChangeLoginForm,validatePassword:this.handleValidatePassword})||!1===a&&o.a.createElement(v,{redirectTo:this.handleRedirect}))}}])&&ae(n.prototype,a),c&&ae(n,c),t}();ie.propTypes={history:c.a.object,intl:c.a.object,onResetState:c.a.func,onStoreWallet:c.a.func,onTogglePasswordForm:c.a.func,onUpdatePasswordErrors:c.a.func,onUpdatePasswordInput:c.a.func,passwordForm:c.a.object,toggleLoading:c.a.func,updateWeb3:c.a.func,web3:c.a.object},ie.defaultProps={history:{},intl:{},onResetState:function(){},onStoreWallet:function(){},onTogglePasswordForm:function(){},onUpdatePasswordErrors:function(){},onUpdatePasswordInput:function(){},passwordForm:{},toggleLoading:function(){},updateWeb3:function(){},web3:{}};var le=Object(s.c)(function(){return Object(l.b)({passwordForm:X})},function(e){return{onLoadKeystoreData:function(t){return e(function(e){return{type:"TOMOWALLET/WELCOME/LOAD_KEYSTORE_DATA",data:e}}(t))},onResetState:function(){return e({type:"TOMOWALLET/WELCOME/RESET_STATE"})},onStoreWallet:function(t){return e(Object(ne.d)(t))},onTogglePasswordForm:function(t){return e(function(e){return{type:"TOMOWALLET/WELCOME/TOGGLE_PASSWORD_FORM",bool:e}}(t))},onUpdatePasswordErrors:function(t){return e(function(e){return{type:"TOMOWALLET/WELCOME/UPDATE_PASSWORD_ERRORS",errors:e}}(t))},onUpdatePasswordInput:function(t,n){return e(function(e,t){return{type:"TOMOWALLET/WELCOME/UPDATE_PASSWORD_INPUT",name:e,value:t}}(t,n))},toggleLoading:function(t){return e(Object(ne.f)(t))}}}),pe=Object(x.x)({key:"welcome",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOMOWALLET/WELCOME/LOAD_KEYSTORE_DATA":return e.setIn(["passwordForm","data"],t.data);case"TOMOWALLET/WELCOME/RESET_STATE":return ee;case"TOMOWALLET/WELCOME/TOGGLE_PASSWORD_FORM":return e.setIn(["passwordForm","isOpen"],t.bool);case"TOMOWALLET/WELCOME/UPDATE_PASSWORD_ERRORS":return e.setIn(["passwordForm","errors"],t.errors).setIn(["passwordForm","input"],{});case"TOMOWALLET/WELCOME/UPDATE_PASSWORD_INPUT":return e.updateIn(["passwordForm","input"],function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,$({},t.name,t.value))}).setIn(["passwordForm","errors"],{});default:return e}}});t.default=Object(u.d)(le,y.d,x.U,pe,i.f,te.d)(ie)}}]);